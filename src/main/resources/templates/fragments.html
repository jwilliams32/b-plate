<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:fragment="head" lang="en">
    <meta charset="UTF-8"/>
    <meta description="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" th:href="@{/assets/css/app.css}"/>
    <title>b-plate</title>
</head>
<body>
<nav th:fragment="navigation" class="navbar-fixed">
    <div class="container">
        <div class="nav-wrapper">
            <div style="display: inline">
                <a href="/" class="brand-logo left">b-plate</a>
            </div>
            <div style="display: inline" class="right">
                <ul class="left" th:switch="${#authentication}? ${#authorization.expression('isAuthenticated()')} : ${false}">
                    <li>
                        <span th:case="${false}"></span>
                        <span th:case="${true}">
                    <!-- TODO: Add role permissions to menu items and make loop here for items -->
                    <!--<li class="Lheader-item"><a href="/page/index">pages</a></li>-->
                    <!--<li class="Lheader-item"><a href="/images/index">images</a></li>-->
                    <!--<li class="Lheader-item"><a href="/user/index">users</a></li>-->
                    <!--<li class="Lheader-item"><a href="/page/edit/idGoesHereLater">edit this page</a></li>-->
                        </span>
                    </li>
                </ul>
                <ul class="right" th:switch="${#authentication}? ${#authorization.expression('isAuthenticated()')} : ${false}">
                    <li>
                        <span th:case="${false}"></span>
                        <span th:case="${true}"><li sec:authentication="name" class="Lheader-item"></li></span>
                    </li>
                    <li>
                        <form class="logout inline" th:action="@{/logout}" method="post">
                            <button type="submit" style="background: none; border: none;">
                                <i class="material-icons">power_settings_new</i>
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>
<section th:fragment="page-body" class="container">
    <div class="page-body"></div>
    <div class="gap"></div>
    <div>
        <h3 th:text="${title}">Default Title</h3>
        <hr/>
        <p th:unless="${page}">
            Page not found.&nbsp;&nbsp;:(
        </p>
        <div th:utext="${page.body}"></div>
    </div>
</section>
<div th:fragment="flash" th:if="${flash != null}" class="container">
    <div class="message">
        <i class="right material-icons" data-close="">close</i>
        <div th:classappend="${#strings.toLowerCase(flash.status)}" th:text="${flash.message}" class="flash"></div>
        <!-- TODO: make success message from reset form show here -->
        <!--<div th:classappend="${#strings.toLowerCase(flash.status)}" th:text="${flash.successMessage}" class="flash"></div>-->
    </div>
</div>
<div th:fragment="scripts">
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
    <script type="text/javascript" th:src="@{/assets/js/app.js}"></script>
</div>
</body>
</html>
