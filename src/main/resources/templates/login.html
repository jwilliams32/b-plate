<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body>
<nav th:replace="fragments :: navigation"></nav>
<div class="container">
    <div class="row vert-center page-body">
        <div class="col s12 m6 offset-m3">
            <div class="card">
                <div class="card-image" style="text-align: center; padding-top:50px;">
                    <!--<img th:src="@{/assets/images/lighter.png}" alt="lighter with flame" id="login-image"/>-->
                    <h4>LOGIN</h4>
                </div>
                <div class="card-content">
                    <div th:replace="fragments :: flash"></div>
                    <form th:action="@{/login}" th:object="${user}" method="post" class="login">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                        <div class="row">
                            <div class="col s12">
                                <input th:field="*{username}" placeholder="username"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12">
                                <input type="password" th:field="*{password}" placeholder="password"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12">
                                <button type="submit" class="btn">Login</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div style="text-align: center;">
                <a th:href="'/user/register'"><span th:text="register"></span></a>
                <span>   |   </span>
                <a th:href="'/forgot'"><span th:text="'forgot password? '"></span></a>
            </div>
        </div>
    </div>



    <!--<script type="text/javascript">-->
        <!--var oktaSignIn = new OktaSignIn({-->
            <!--baseUrl: "https://dev-400308-admin.oktapreview.com",-->
            <!--clientId: "0oadaebskibZkgLN00h7",-->
            <!--authParams: {-->
                <!--issuer: "https://dev-400308-admin.oktapreview.com/oauth2/default",-->
                <!--responseType: ['token', 'id_token'],-->
                <!--display: 'page'-->
            <!--}-->
        <!--});-->
        <!--if (oktaSignIn.token.hasTokensInUrl()) {-->
            <!--oktaSignIn.token.parseTokensFromUrl(-->
                <!--function success(res) {-->
                    <!--// The tokens are returned in the order requested by `responseType` above-->
                    <!--var accessToken = res[0];-->
                    <!--var idToken = res[1]-->

                    <!--// Say hello to the person who just signed in:-->
                    <!--console.log('Hello, ' + idToken.claims.email);-->

                    <!--// Save the tokens for later use, e.g. if the page gets refreshed:-->
                    <!--oktaSignIn.tokenManager.add('accessToken', accessToken);-->
                    <!--oktaSignIn.tokenManager.add('idToken', idToken);-->

                    <!--// Remove the tokens from the window location hash-->
                    <!--window.location.hash='';-->
                <!--},-->
                <!--function error(err) {-->
                    <!--// handle errors as needed-->
                    <!--console.error(err);-->
                <!--}-->
            <!--);-->
        <!--} else {-->
            <!--oktaSignIn.session.get(function (res) {-->
                <!--// Session exists, show logged in state.-->
                <!--if (res.status === 'ACTIVE') {-->
                    <!--console.log('Welcome back, ' + res.login);-->
                    <!--return;-->
                <!--}-->
                <!--// No session, show the login form-->
                <!--oktaSignIn.renderEl(-->
                    <!--{ el: '#okta-login-container' },-->
                    <!--function success(res) {-->
                        <!--// Nothing to do in this case, the widget will automatically redirect-->
                        <!--// the user to Okta for authentication, then back to this page if successful-->
                    <!--},-->
                    <!--function error(err) {-->
                        <!--// handle errors as needed-->
                        <!--console.error(err);-->
                    <!--}-->
                <!--);-->
            <!--});-->
        <!--}-->
    <!--</script>-->


    <!--<body>-->
    <!--<div id="okta-login-container"></div>-->
    <!--...-->
    <!--</body>-->


    <div th:replace="fragments :: scripts"></div>
</div>
<footer th:replace="fragments :: footer"></footer>
</body>
</html>